{"pageProps":{"postData":{"id":"3d-ui","contentHtml":"<h2 class=\"text-xl font-medium mb-2 mt-3\">Combine Webgl and React to create 3d UI</h2>\n<p>In modeling software and game editors, 3dUI is an indispensable part, through which user can intuitively manipulate the objects they edit. Some common 3dUIs are looks like:</p>\n<div class='m-5'></div>\n<img src=\"/images/3d-ui/manipulators.png\" alt=\"common 3dUIs\" style=\"width:800px; margin:auto\"/>\n<div class='m-5'></div>\n<p>In the Box3 game editor, we also need such manipulators. If we think about it a little bit, we will find that these 3d ui and ordinary React components actually have a lot in common. For example, they can be easily created and destroyed, they can accept props to calculate the initial state, and they have to actively respond to the user’s actions (translation, rotation, scale).</p>\n<div class='m-5'></div>\n<p>That why we want to use the lifecycle of traditional React components to control the creation and destruction of 3d UI. But here’s another problem, the data used in webgl is outside of React, but with the React Context API, we can inject that data into React.</p>\n<div class='m-5'></div>\n<p>Here is the diagram show how this system was designed.</p>\n<div class='m-5'></div>\n<img src=\"/images/3d-ui/diagram.png\" alt=\"system design diagram\" style=\"width:500px; margin:auto\"/>\n<div class='m-5'></div>\n<h3 class=\"text-xl font-medium mb-2 mt-3\">So, what exactly is a 3dUI? </h3>\n<div class='m-5'></div>\n<p>If you look at it from a React’s perspective, the combination of a <code>UI3DContext.Consumer</code> and a <code>EliminateWrapper</code> in the diagram is a 3dUI component. If you look at it from the perspective of the WebGL rendering engine, then the 3dUI data generated by the <code>UI3DContext.Consumer</code> is actually a 3dUI Element.</p>\n<p>At the specific code implementation level, we use <a class=\"text-blue-700\" href=\"https://github.com/mikolalysenko/mudb\">Mudb</a> to build the schema of UI3dState.(Mudb is the core opensource library that we use in ‘Box3’, it was build by our team). You may use any method you like, but the overall design pattern has shown in the diagram.</p>\n<p>The simplest example would be a 3d Point(or you can call it Sphere), I will use it for a detailed demonstration.\nFirst, we define the schema for UI3DState and UI3DSphere.</p>\n<div class='preCodeBlock'></div>\n<pre><code class=\"language-Typescript\"><span class=\"hljs-comment\">// define mouse event schema</span>\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">const</span> UI3DMouseEventSchema = <span class=\"hljs-keyword\">new</span> MuStruct({\n    <span class=\"hljs-attr\">eye</span>: Vec3Schema,\n    <span class=\"hljs-attr\">mouseButton</span>: <span class=\"hljs-keyword\">new</span> MuUint8(),\n    <span class=\"hljs-attr\">mouseState</span>: <span class=\"hljs-keyword\">new</span> MuUint8(),\n    <span class=\"hljs-attr\">worldPosition</span>: Vec3Schema,\n    <span class=\"hljs-attr\">screenPosition</span>: Vec2Schema,\n});\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">type</span> UI3DMouseEvent = <span class=\"hljs-keyword\">typeof</span> UI3DMouseEventSchema.identity;\n\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">type</span> UI3DMouseHandler = <span class=\"hljs-function\">(<span class=\"hljs-params\">event:UI3DMouseEvent</span>) =&gt;</span> <span class=\"hljs-built_in\">boolean</span>;\n\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">UI3DEventHandlerNode</span> </span>{\n    <span class=\"hljs-keyword\">public</span> next:UI3DEventHandlerNode|<span class=\"hljs-literal\">null</span> = <span class=\"hljs-literal\">null</span>;\n    <span class=\"hljs-keyword\">public</span> prev:UI3DEventHandlerNode|<span class=\"hljs-literal\">null</span> = <span class=\"hljs-literal\">null</span>;\n}\n\n<span class=\"hljs-comment\">// Schema for UI3DSphere</span>\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">const</span> UI3DSphereSchema = <span class=\"hljs-keyword\">new</span> MuStruct({\n    <span class=\"hljs-attr\">id</span>: <span class=\"hljs-keyword\">new</span> MuUint32(),\n    <span class=\"hljs-attr\">destroyed</span>: <span class=\"hljs-keyword\">new</span> MuBoolean(<span class=\"hljs-literal\">false</span>),\n    <span class=\"hljs-attr\">position</span>: Vec3Schema,\n    <span class=\"hljs-attr\">radius</span>: <span class=\"hljs-keyword\">new</span> MuFloat64(<span class=\"hljs-number\">1</span>),\n    <span class=\"hljs-attr\">color</span>: Vec3Schema,\n    <span class=\"hljs-attr\">onMouseChange</span>: <span class=\"hljs-keyword\">new</span> MuRefSchema&lt;UI3DMouseHandler&gt;(),\n});\n\n<span class=\"hljs-comment\">// you can define more different kind of UI3DElement</span>\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">const</span> UI3DElementSchema = <span class=\"hljs-keyword\">new</span> MuUnion({\n    <span class=\"hljs-attr\">point</span>: UI3DSphereSchema,\n});\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">type</span> UI3DElement = <span class=\"hljs-keyword\">typeof</span> UI3DElementSchema.identity;\n\n<span class=\"hljs-comment\">// an event record</span>\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">const</span> UI3DEventSchema = <span class=\"hljs-keyword\">new</span> MuStruct({\n    <span class=\"hljs-comment\">// hit distance</span>\n    <span class=\"hljs-attr\">hitDistance</span>: <span class=\"hljs-keyword\">new</span> MuFloat64(),\n    <span class=\"hljs-comment\">// event type</span>\n    <span class=\"hljs-attr\">event</span>: <span class=\"hljs-keyword\">new</span> MuUnion({\n        <span class=\"hljs-attr\">mouse</span>: UI3DMouseEventSchema,\n    }),\n    <span class=\"hljs-comment\">// event handler</span>\n    <span class=\"hljs-attr\">handler</span>: <span class=\"hljs-keyword\">new</span> MuRefSchema&lt;<span class=\"hljs-function\">(<span class=\"hljs-params\">event:<span class=\"hljs-built_in\">any</span></span>) =&gt;</span> <span class=\"hljs-built_in\">boolean</span>&gt;(),\n});\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">const</span> UI3DEventQueueSchema = <span class=\"hljs-keyword\">new</span> MuArray(UI3DEventSchema, <span class=\"hljs-literal\">Infinity</span>);\n\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">type</span> UI3DEventQueue = <span class=\"hljs-keyword\">typeof</span> UI3DEventQueueSchema.identity;\n\n<span class=\"hljs-comment\">// Schema for UI3DState</span>\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">const</span> UI3DStateSchema = <span class=\"hljs-keyword\">new</span> MuStruct({\n    <span class=\"hljs-attr\">idCounter</span>: <span class=\"hljs-keyword\">new</span> MuUint32(),\n\n    <span class=\"hljs-comment\">// elements list</span>\n    <span class=\"hljs-attr\">elements</span>: <span class=\"hljs-keyword\">new</span> MuArray(UI3DElementSchema, <span class=\"hljs-literal\">Infinity</span>),\n\n    <span class=\"hljs-comment\">// event handler list</span>\n    <span class=\"hljs-attr\">eventHandlers</span>: <span class=\"hljs-keyword\">new</span> MuRefSchema&lt;UI3DEventHandlerNode&gt;(),\n\n    <span class=\"hljs-comment\">// previous event handler list</span>\n    <span class=\"hljs-attr\">prevEventStack</span>: UI3DEventQueueSchema,\n});\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">type</span> UI3DState = <span class=\"hljs-keyword\">typeof</span> UI3DStateSchema.identity;\n</code></pre>\n<p>Now let’s come back to React, we need to create the <code>UI3DContext</code> and defined a component to provide the context provider.</p>\n<div class='preCodeBlock'></div>\n<pre><code class=\"language-Typescript\"><span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">const</span> UI3DContext = React.createContext(UI3DStateSchema.identity);\n\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">type</span> UI3DContainerProps = {\n    <span class=\"hljs-attr\">state</span>:UI3DContext;\n};\n<span class=\"hljs-comment\">// define the UI3DContainer component to provide UI3DContext.Provider</span>\n<span class=\"hljs-comment\">// the reason why we don&#x27;t call UI3DContext.Provider directly is because </span>\n<span class=\"hljs-comment\">// we want to manage our UI3d state with the help of the React component&#x27;s lifecycle method.</span>\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">UI3DContainer</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">React</span>.<span class=\"hljs-title\">Component</span>&lt;<span class=\"hljs-title\">UI3DContainerProps</span>, </span>{}&gt; {\n    <span class=\"hljs-keyword\">private</span> _node:UI3DEventHandlerNode|<span class=\"hljs-literal\">null</span> = <span class=\"hljs-literal\">null</span>;\n\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-title\">componentWillUnmount</span>(<span class=\"hljs-params\"></span>)</span> {\n        <span class=\"hljs-keyword\">const</span> ui3d = <span class=\"hljs-built_in\">this</span>.props.state;\n        <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-built_in\">this</span>._node) {\n            <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-built_in\">this</span>._node === ui3d.eventHandlers) {\n                ui3d.eventHandlers = <span class=\"hljs-built_in\">this</span>._node.next;\n            }\n            <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-built_in\">this</span>._node.next) {\n                <span class=\"hljs-built_in\">this</span>._node.next.prev = <span class=\"hljs-built_in\">this</span>._node.prev;\n            }\n            <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-built_in\">this</span>._node.prev) {\n                <span class=\"hljs-built_in\">this</span>._node.prev.next = <span class=\"hljs-built_in\">this</span>._node.next;\n            }\n            <span class=\"hljs-built_in\">this</span>._node = <span class=\"hljs-literal\">null</span>;\n        }\n    }\n\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-title\">render</span>(<span class=\"hljs-params\"></span>)</span> {\n        <span class=\"hljs-keyword\">const</span> ui3d = <span class=\"hljs-built_in\">this</span>.props.state;\n        <span class=\"hljs-keyword\">if</span> (!<span class=\"hljs-built_in\">this</span>._node) {\n            <span class=\"hljs-built_in\">this</span>._node = <span class=\"hljs-keyword\">new</span> UI3DEventHandlerNode();\n            <span class=\"hljs-built_in\">this</span>._node.next = ui3d.eventHandlers;\n            <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-built_in\">this</span>._node.next) {\n                <span class=\"hljs-built_in\">this</span>._node.next.prev = <span class=\"hljs-built_in\">this</span>._node;\n            }\n            <span class=\"hljs-built_in\">this</span>._node.prev = <span class=\"hljs-literal\">null</span>;\n            ui3d.eventHandlers = <span class=\"hljs-built_in\">this</span>._node;\n        }\n\n        <span class=\"hljs-keyword\">return</span> (\n            <span class=\"xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">UI3DContext.Provider</span> <span class=\"hljs-attr\">value</span>=<span class=\"hljs-string\">{this.props.state}</span>&gt;</span>\n                {this.props.children}\n            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">UI3DContext.Provider</span>&gt;</span></span>\n        );\n    }\n}\n</code></pre>\n<p>Now, we can create the actual 3dUI component of 3d Point, remember, from React’s perspective, it is a UI3DContext.Comsumer and a EliminateWrapper.</p>\n<div class='preCodeBlock'></div>\n<pre><code class=\"language-Typescript\"><span class=\"hljs-keyword\">interface</span> EliminateWrapperProps {\n    <span class=\"hljs-attr\">elements</span>:UI3DElement[];\n    element:UI3DElement;\n    clearMethod:<span class=\"hljs-function\">(<span class=\"hljs-params\">fn:() =&gt; <span class=\"hljs-built_in\">void</span></span>) =&gt;</span> <span class=\"hljs-built_in\">void</span>;\n}\n\n<span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">EliminateWrapper</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">React</span>.<span class=\"hljs-title\">Component</span>&lt;<span class=\"hljs-title\">EliminateWrapperProps</span>, </span>{}&gt; {\n    <span class=\"hljs-function\"><span class=\"hljs-title\">constructor</span>(<span class=\"hljs-params\">props</span>)</span> {\n        <span class=\"hljs-built_in\">super</span>(props);\n        <span class=\"hljs-built_in\">this</span>.componentWillUnMount = <span class=\"hljs-built_in\">this</span>.componentWillUnMount.bind(<span class=\"hljs-built_in\">this</span>);\n    }\n\n    <span class=\"hljs-comment\">// this is very strange, that componentWillUnMount will not be called by react when the component is in the Consumer</span>\n    <span class=\"hljs-comment\">// I have search a lot but could not find much resources about it, that why it end up call by an hook from parent ....</span>\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-title\">componentWillUnMount</span>(<span class=\"hljs-params\"></span>)</span> {\n        <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">let</span> i=<span class=\"hljs-number\">0</span>; i &lt; <span class=\"hljs-built_in\">this</span>.props.elements.length;  i++) {\n            <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-built_in\">this</span>.props.elements[i].data.id === <span class=\"hljs-built_in\">this</span>.props.element.data.id) {\n                <span class=\"hljs-built_in\">this</span>.props.elements.splice(i, <span class=\"hljs-number\">1</span>);\n                <span class=\"hljs-keyword\">break</span>;\n            }\n        }\n    }\n\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-title\">componentDidMount</span>(<span class=\"hljs-params\"></span>)</span> {\n        <span class=\"hljs-built_in\">this</span>.props.klarMethod(<span class=\"hljs-built_in\">this</span>.componentWillUnMount);\n    }\n\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-title\">render</span>(<span class=\"hljs-params\"></span>)</span> {\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">&#x27;&#x27;</span>;\n    }\n}\n\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">UI3DContextWrapper</span>&lt;<span class=\"hljs-title\">Props</span>, <span class=\"hljs-title\">ElementType</span> <span class=\"hljs-title\">extends</span> <span class=\"hljs-title\">keyof</span> <span class=\"hljs-title\">typeof</span> <span class=\"hljs-title\">UI3DElementSchema</span>.<span class=\"hljs-title\">muData</span>, <span class=\"hljs-title\">Schema</span> <span class=\"hljs-title\">extends</span> <span class=\"hljs-title\">MuSchema</span>&lt;<span class=\"hljs-title\">any</span>&gt;&gt;(<span class=\"hljs-params\">\n    schema:Schema,\n    elementType:ElementType,\n    factory:(element:<span class=\"hljs-keyword\">typeof</span> UI3DElementSchema.muData[ElementType][<span class=\"hljs-string\">&#x27;identity&#x27;</span>], props:Props, state:<span class=\"hljs-keyword\">typeof</span> UI3DStateSchema[<span class=\"hljs-string\">&#x27;identity&#x27;</span>]) =&gt; <span class=\"hljs-built_in\">void</span></span>) </span>{\n\n    <span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">UI3DContextInjector</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">React</span>.<span class=\"hljs-title\">Component</span>&lt;<span class=\"hljs-title\">Props</span>, </span>{}&gt; {\n\n        <span class=\"hljs-keyword\">private</span> _element?:<span class=\"hljs-literal\">null</span>|UI3DElement;\n        <span class=\"hljs-keyword\">private</span> _clearData:<span class=\"hljs-function\">() =&gt;</span> <span class=\"hljs-built_in\">void</span> = <span class=\"hljs-function\">() =&gt;</span> {};\n\n        <span class=\"hljs-keyword\">private</span> <span class=\"hljs-function\"><span class=\"hljs-title\">clearMethod</span>(<span class=\"hljs-params\">childUmont:() =&gt; <span class=\"hljs-built_in\">void</span></span>)</span> {\n            <span class=\"hljs-built_in\">this</span>._clearData = childUmont;\n        }\n\n        <span class=\"hljs-title\">constructor</span> (<span class=\"hljs-params\">props</span>) {\n            <span class=\"hljs-built_in\">super</span>(props);\n            <span class=\"hljs-built_in\">this</span>.klarMethod = <span class=\"hljs-built_in\">this</span>.klarMethod.bind(<span class=\"hljs-built_in\">this</span>);\n        }\n\n        <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-title\">componentWillUnmount</span>(<span class=\"hljs-params\"></span>)</span> {\n            <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-built_in\">this</span>._element) {\n                <span class=\"hljs-built_in\">this</span>._element.data.destroyed = <span class=\"hljs-literal\">true</span>;\n                <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-built_in\">this</span>._clearData) {\n                    <span class=\"hljs-built_in\">this</span>._clearData();\n                }\n                <span class=\"hljs-built_in\">this</span>._element = <span class=\"hljs-literal\">null</span>;\n            }\n        }\n\n        <span class=\"hljs-keyword\">public</span> render () {\n            <span class=\"hljs-keyword\">return</span> (\n                <span class=\"xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">UI3DContext.Consumer</span>&gt;</span>\n                    {(context) =&gt; {\n                        if (this._element) {\n                            factory(this._element.data, this.props, context);\n                        } else {\n                            const element = UI3DElementSchema.alloc();\n                            element.type = elementType;\n                            const data = element.data = schema.clone(schema.identity);\n                            data.id = context.idCounter++;\n                            data.destroyed = false;\n                            this._element = element;\n                            context.elements.push(element);\n                            factory(data, this.props, context);\n                        }\n                        return <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">EliminateWrapper</span> <span class=\"hljs-attr\">elements</span>=<span class=\"hljs-string\">{context.elements}</span> <span class=\"hljs-attr\">element</span>=<span class=\"hljs-string\">{this._element}</span> <span class=\"hljs-attr\">clearMethod</span>=<span class=\"hljs-string\">{this.clearMethod}/</span>&gt;</span>;\n                    }}\n                <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">UI3DContext.Consumer</span>&gt;</span></span>\n            );\n        }\n    }\n    <span class=\"hljs-keyword\">return</span> UI3DContextInjector;\n}\n</code></pre>\n<p>Look closely at UI3DContextInjector’s render function, the ui3d element is created in the UI3DContext.Consumer, and the element will be add into UI3D State, it will also pass into EliminateWrapper as a prop.\nFinally, we can defined UI3DPoint component</p>\n<div class='preCodeBlock'></div>\n<pre><code class=\"language-Typescript\"><span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">const</span> UI3DPoint = UI3DContextWrapper(UI3DSphereSchema, <span class=\"hljs-string\">&#x27;point&#x27;</span>, <span class=\"hljs-function\">(<span class=\"hljs-params\">\n    element,\n    props:{\n        position:vec3,\n        radius?:<span class=\"hljs-built_in\">number</span>,\n        color?:vec3,\n        onMouse?:UI3DMouseHandler,\n    },\n    context</span>) =&gt;</span> {\n    vec3.copy(element.position, props.position);\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-string\">&#x27;color&#x27;</span> <span class=\"hljs-keyword\">in</span> props) {\n        vec3.copy(element.color, (props.color <span class=\"hljs-keyword\">as</span> vec3));\n    } <span class=\"hljs-keyword\">else</span> {\n        vec3.set(element.color, <span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">0</span>);\n    }\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-string\">&#x27;radius&#x27;</span> <span class=\"hljs-keyword\">in</span> props) {\n        element.radius = (props.radius <span class=\"hljs-keyword\">as</span> <span class=\"hljs-built_in\">number</span>);\n    } <span class=\"hljs-keyword\">else</span> {\n        element.radius = <span class=\"hljs-number\">1</span>;\n    }\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-string\">&#x27;onMouse&#x27;</span> <span class=\"hljs-keyword\">in</span> props) {\n        element.onMouseChange = (props.onMouse <span class=\"hljs-keyword\">as</span> UI3DMouseHandler);\n    } <span class=\"hljs-keyword\">else</span> {\n        element.onMouseChange = <span class=\"hljs-literal\">null</span>;\n    }\n});\n</code></pre>\n<p>And this is how we can use it:</p>\n<div class='preCodeBlock'></div>\n<pre><code class=\"language-Html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">UI3DContainer</span> <span class=\"hljs-attr\">state</span>=<span class=\"hljs-string\">{ui3dState}</span>&gt;</span>\n    ...\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">UI3DPoint</span>\n        <span class=\"hljs-attr\">position</span>=<span class=\"hljs-string\">{[5,</span> <span class=\"hljs-attr\">5.5</span>, <span class=\"hljs-attr\">5</span>]}\n        <span class=\"hljs-attr\">radius</span>=<span class=\"hljs-string\">{2}</span>\n        <span class=\"hljs-attr\">color</span>=<span class=\"hljs-string\">{[1,0,0]}</span>\n        <span class=\"hljs-attr\">onMouse</span>=<span class=\"hljs-string\">{(ev)</span> =&gt;</span> {\n            ....\n        }}\n    &gt;<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">UI3DPoint</span>&gt;</span>\n    ...\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">UI3DContainer</span>&gt;</span>\n</code></pre>\n<p>With this design, you can easily combine multiple 3d components into one more advanced component. This can be done with React, without modifying any WebGL-related code. Here are examples of our 3d component.</p>\n<div class='m-5'></div>\n<video controls=\"true\" alt=\"ui adaption\" style=\"width:600px; margin:auto\">\n    <source src=\"/images/3d-ui/ui3d-demo.mp4\">\n</video>\n<div class='m-5'></div>","title":"3D UI of Box3 Game Editor","pic":"/images/3d-ui/1.png","keyword":"React, Context API, WebGL","description":"In Box3 Game Editor, we need 3dUI to control the object, this is how I implement it with React and WebGL","date":"2019-07-12"}},"__N_SSG":true}