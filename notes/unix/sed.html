<!DOCTYPE html><html><head><title>Ajay Narain Mathur - Developer</title><meta name="viewport" content="width=device-width, initial-scale=1"/><meta charSet="utf-8"/><link rel="preload" href="/_next/static/css/styles.5d12a73c.chunk.css" as="style"/><link rel="stylesheet" href="/_next/static/css/styles.5d12a73c.chunk.css" data-n-p=""/><noscript data-n-css="true"></noscript><link rel="preload" href="/_next/static/chunks/main-4e8675724cdf5ff9ad85.js" as="script"/><link rel="preload" href="/_next/static/chunks/webpack-d7b2fb72fb7257504a38.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.1daf1ec1ecf144ee9147.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.1a226fa2d2eeb57c73b5.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-4c23b68da7a2f93f48e4.js" as="script"/><link rel="preload" href="/_next/static/chunks/7401b6b2efedaafb1d448bf7df1862e9d7d1d9f1.249fa7aef0b3ab2d4141.js" as="script"/><link rel="preload" href="/_next/static/chunks/styles.0545fa9871192bfda032.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/notes/unix/sed-59fa928b373c907cb8c6.js" as="script"/></head><body><div id="__next"><nav><a href="/">🏡 Home</a><span class="seperator">|</span><a href="/notes">📝 Notes</a><span class="seperator">|</span><a href="/blogs">🔈 Blogs</a><span class="seperator">|</span><a href="/projects">📈 Projects</a><span class="seperator">|</span><a href="/connect">👥 Connect</a></nav><div id="page"><main><h1>sed</h1><p>GNU docs -&gt; <a href="https://www.gnu.org/software/sed/manual/sed.html">https://www.gnu.org/software/sed/manual/sed.html</a></p><ul><li><p>Stand input = standard input stream, etc…</p></li><li><p>Used for basic transformation on streams</p></li><li><p><code style="background-color:#dddddd;padding:2px 5px;color:#565656;border-radius:5px">type -a sed</code> 👉 sed is command, it is stand alone utility and not a shell built in</p></li><li><p><code style="background-color:#dddddd;padding:2px 5px;color:#565656;border-radius:5px">man sed</code> 👉 to view documentation</p></li><li><p>Substitute command <code style="background-color:#dddddd;padding:2px 5px;color:#565656;border-radius:5px">sed &quot;s/[search-pattern]/replacement-string/&quot; [File to execute this command on]</code></p><ul><li>it does not alter the content of the file yet, it only send the output to STDout</li></ul></li><li><p>case sensitive my default</p><ul><li><code style="background-color:#dddddd;padding:2px 5px;color:#565656;border-radius:5px">i</code> flag to ignore string, usage <code style="background-color:#dddddd;padding:2px 5px;color:#565656;border-radius:5px">sed &#x27;s/search-pattern/replacement-string/i&#x27; [filename]</code> - we also use capital <code style="background-color:#dddddd;padding:2px 5px;color:#565656;border-radius:5px">I</code>.</li></ul></li><li><p>In case of multi line text it searches for text line by line and replaces its first match and then moves on</p><ul><li><p>that is if there are two matches in a line it will replace only the first match</p></li><li><p><code style="background-color:#dddddd;padding:2px 5px;color:#565656;border-radius:5px">g</code> - global replace to replace all the matches <code style="background-color:#dddddd;padding:2px 5px;color:#565656;border-radius:5px">sed ’s/search-pattern/replacement-string/g&#x27; [filename]</code> </p></li><li><p>If we want only a particular match to be replace we can use the number flag like 1, 2, 3…etc</p></li></ul></li><li><p>we can write to new file using the <code style="background-color:#dddddd;padding:2px 5px;color:#565656;border-radius:5px">&gt;</code> operation</p><ul><li><code style="background-color:#dddddd;padding:2px 5px;color:#565656;border-radius:5px">-i</code>: for inline editing. Append something to <code style="background-color:#dddddd;padding:2px 5px;color:#565656;border-radius:5px">-i</code> flag to create a backup file and replace inline for original file. Example: <code style="background-color:#dddddd;padding:2px 5px;color:#565656;border-radius:5px">sed -i.bak &#x27;s/search-pattern/replacement-string/&#x27; [filename]</code></li></ul></li><li><p>Any character following the <code style="background-color:#dddddd;padding:2px 5px;color:#565656;border-radius:5px">s</code> can be used as delimiter </p><ul><li>ex: <code style="background-color:#dddddd;padding:2px 5px;color:#565656;border-radius:5px">sed ’s#/home/json/#/something#</code>  , here <code style="background-color:#dddddd;padding:2px 5px;color:#565656;border-radius:5px">#</code> is used a delimiter.</li></ul></li><li><p>Delete the content using <code style="background-color:#dddddd;padding:2px 5px;color:#565656;border-radius:5px">d</code> command</p><ul><li>to delete the line containing <strong>this</strong> -  <code style="background-color:#dddddd;padding:2px 5px;color:#565656;border-radius:5px">sed ‘/this/d’ [filename]</code></li></ul></li><li><p>Multiple sed </p><ul><li><p>seperate each with semicolon - <code style="background-color:#dddddd;padding:2px 5px;color:#565656;border-radius:5px">sed ‘/^#/d ; /^$/d&#x27; [filename]</code></p></li><li><p>using <code style="background-color:#dddddd;padding:2px 5px;color:#565656;border-radius:5px">-e</code> option one for each sed operation</p><ul><li><code style="background-color:#dddddd;padding:2px 5px;color:#565656;border-radius:5px">sed -e ‘/^#/d’ -e ‘/^$/d’ [filename]</code></li></ul></li></ul></li><li><p>Run sed command from a file: (a file has all the sed commands we want to execute)</p><ul><li>Example scripts.sed file to be</li></ul></li></ul><pre><code style="background-color:#dddddd;padding:2px 5px;color:#565656;border-radius:5px">/^#/d
/^$/d
</code></pre><ul><li><p>We can run sed from this file using <code style="background-color:#dddddd;padding:2px 5px;color:#565656;border-radius:5px">-f</code> flag - <code style="background-color:#dddddd;padding:2px 5px;color:#565656;border-radius:5px">sed -f script.sed [filename to execute sed on]</code></p></li><li><p>To execute only against single line in the file</p><ul><li><code style="background-color:#dddddd;padding:2px 5px;color:#565656;border-radius:5px">sed ‘2 s/apahe/httpd/‘ [filename]</code></li></ul></li></ul></main></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{}},"page":"/notes/unix/sed","query":{},"buildId":"Q2KuPuF8gvlTyduZjXdF4","nextExport":true,"autoExport":true,"isFallback":false,"head":[["title",{"children":"Ajay Narain Mathur - Developer"}],["meta",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["meta",{"charSet":"utf-8"}]]}</script><script nomodule="" src="/_next/static/chunks/polyfills-f8d88fc6aa27b790f2ac.js"></script><script src="/_next/static/chunks/main-4e8675724cdf5ff9ad85.js" async=""></script><script src="/_next/static/chunks/webpack-d7b2fb72fb7257504a38.js" async=""></script><script src="/_next/static/chunks/framework.1daf1ec1ecf144ee9147.js" async=""></script><script src="/_next/static/chunks/commons.1a226fa2d2eeb57c73b5.js" async=""></script><script src="/_next/static/chunks/pages/_app-4c23b68da7a2f93f48e4.js" async=""></script><script src="/_next/static/chunks/7401b6b2efedaafb1d448bf7df1862e9d7d1d9f1.249fa7aef0b3ab2d4141.js" async=""></script><script src="/_next/static/chunks/styles.0545fa9871192bfda032.js" async=""></script><script src="/_next/static/chunks/pages/notes/unix/sed-59fa928b373c907cb8c6.js" async=""></script><script src="/_next/static/Q2KuPuF8gvlTyduZjXdF4/_buildManifest.js" async=""></script><script src="/_next/static/Q2KuPuF8gvlTyduZjXdF4/_ssgManifest.js" async=""></script></body></html>